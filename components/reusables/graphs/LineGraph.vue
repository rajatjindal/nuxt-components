<template>
  <canvas ref="ctx" id="line" class="w-full"/>
</template>

<script lang="ts" setup>
import { Chart, ChartConfiguration, ChartData, ChartOptions, registerables } from 'chart.js'
import { ref, onMounted } from 'vue';


const props = defineProps({
	data: { type: Object as PropType<ChartData>, required: true },
  id: { type: String, required: true}
})

const ctx = ref(null);
const options: ChartOptions = reactive({
  responsive: true,
  aspectRatio: 5,
  scales: {
    x: {
      grid: {
        display: false
      }
    },
    y: {
      grid: {
        display: false
      }
    },
  }
})

// const data: ChartData = reactive({"labels":["2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30","2022-07-31","2022-08-31","2022-09-30","2022-10-31","2022-11-30","2022-12-31","2023-01-31","2023-02-28","2023-03-31","2023-04-30","2023-05-31","2023-06-30","2023-07-31","2023-08-31","2023-09-30","2023-10-31","2023-11-30","2023-12-31"],"datasets":[{"label":"36795146-53ae-4958-957f-893228ca1f29","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,467744.1,467744.1,470951.1,470933.4,470933.4,474138.4,473961.4,473961.4,477152.4,477152.4,477151.22,480318.96,480318.96,480318.96,480318.96,480318.96,480318.96,480318.96,480318.96,480318.96,480318.96]},{"label":"33da7a03-eec4-4085-8fe7-ccb5d890f180","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,415270,102582.68,167418.26,177009.73,166079.75,91217.83,412475.93,576150.03,332236.9,250455.96,185694.03,150105.03,1563125.03,1809619.03,2008650.03,2260843.78,2481250.53,2787693.53,3151337.53,3479614.63,3694826.81,4030399.86,3645548.11,3729014.71,5126784.39,5220090.59,5574713.03,4803971.81,2944915.76,3233839,3304829.33,3688474.51,3967225.69,4325633.87,4772430.03,5187563.71,5885938.84,5897958.59,6609586.77,1554567.95,1036020.14,1717242.28,1662318.46,1976209.64,6489066.82,5445672.39,5691121.57,6053209.25,6366695.68,7307662.49,7793435.05,8369031.18,8233181.06,7790806.72,8369197.87,8939925.6,9383393.33,10050120.83,10050120.83,10050120.83,10050120.83,10050120.83,10050120.83]},{"label":"31ef9e19-3f4f-435e-9c04-f3888c9b2741","data":[0,53539.48,95024.48,10194.48,10194.48,12393.24,12393.24,12393.24,12393.24,12761.24,12761.24,32571.24,12571.24,12571.24,12571.24,12866.24,10866.24,10755,10755,10755,10745,10970,10955,10944.16,37044.16,37044.16,37029.16,37029.16,37029.16,36917.92,37655.92,37655.92,37655.92,27640.92,27640.92,27640.92,802714.92,445390.42,45390.42,45375.42,355673.92,24905.38,13449.38,13449.38,210858.38,406782.38,356778.38,384809.93,236403.43,579351.43,915387.75,273090.75,273411.75,1459844.92,20829.92,485657.52,51789.02,312442.62,312763.62,39983.37,42693.37,42993.37,43293.37,237977.12,95962.12,96089.62,97661.37,87755.77,87955.77,408153.07,408453.07,408755.37,412602.37,51281.37,62136.37,593117.67,593397.67,593482.97,143628.97,143908.97,1032790.97,1038519.27,752738.47,21614.47,134567.77,228471.17,378126.17,973613.07,1124346.07,1104982.07,1494937.37,1676700.37,5052773.37,3057390.67,5041333.67,4216674.67,3237182.97,3070798.97,2060098.27,2050516.27,1991960.27,2013227.27,2050671.27,2071938.27,2093205.27,2130180.27,2151447.27,2172732.27,2210245.27,2231448.27,2252651.27,2290398.27,2311590.27,3210806.27,3253215.27,3275418.27,3298621.27,3291620.27,3314823.27,3338039.27,3587527.27,3587709.27,4711227.27,7529140.27,7529330.27,9459698.27,329059.27,329262.27,329465.27,216926.27,217129.27,217345.27,276008.27,276008.27,276008.27,284855.27,284855.27,284855.27,284855.27,284855.27,284855.27,284855.27,284855.27,284855.27,284855.27]}]})
const chartconfig: ChartConfiguration = {
  type: 'line',
  data: props.data,
  options: options,
}

onMounted(() => {
  if (ctx !== null &&  ctx.value !== null) {
    Chart.register(...registerables);
    new Chart(ctx.value, chartconfig)
  }
});

</script>